opam-version: "2.0"
maintainer: "Léo Andrès <contact@ndrs.fr>"
authors: "Léo Andrès <contact@ndrs.fr>"
homepage: "https://github.com/ocaml/opam-repository"
bug-reports: "https://github.com/ocaml/opam-repository/issues"
license: "MIT"
build: [
  ["sh" "-c" "rustc --print target-list | grep -q 'wasm32-unknown-unknown'" ]
]
depends: [
  "conf-bash" {build}
  "conf-rust" {build}
]
depexts: [
  ["libstd-rust-dev-wasm32"] { os-family = "alpine" }
  ["libstd-rust-dev-wasm32"] { os-family = "arch" }
  ["libstd-rust-dev-wasm32"] { os-family = "debian" }
  ["libstd-rust-dev-wasm32"] { os-family = "homebrew" }
  ["libstd-rust-dev-wasm32"] { os-family = "open-suse" }
  ["libstd-rust-dev-wasm32"] { os-family = "suse" }
  ["libstd-rust-dev-wasm32"] { os-family = "ubuntu" }

  ["libstd-rust-dev-wasm32"] { os-distribution = "centos" }
  ["libstd-rust-dev-wasm32"] { os-distribution = "fedora" }
  ["libstd-rust-dev-wasm32"] { os-distribution = "homebrew" }
  ["libstd-rust-dev-wasm32"] { os-distribution = "nixos" }
  ["libstd-rust-dev-wasm32"] { os-distribution = "ol" }
]
synopsis: "Virtual package relying on an installation of standard Rust libraries including development files, needed to cross-compile Rust programs to the wasm32-unknown-unknown and wasm32-wasip1/wasm32-wasip2 targets"
flags: conf
